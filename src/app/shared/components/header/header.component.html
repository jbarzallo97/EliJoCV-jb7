<header class="header-container">
  <div class="container-fluid">
    <div class="header-inner">
      <!-- Brand -->
      <div class="brand">
        <div class="brand-mark" aria-hidden="true">
          <img class="logo-img" src="assets/image/logo.png" alt="EliJo">
        </div>
      </div>

      <!-- Tabs -->
      <nav class="tabs-nav" aria-label="Main navigation">
        <div class="tabs-pill" role="tablist">
          <button
            *ngFor="let tab of tabs"
            type="button"
            class="tab-pill"
            [class.active]="activeTab === tab.id"
            (click)="selectTab(tab.id)">
            <i class="material-icons">{{ tab.icon }}</i>
            <span>{{ tab.labelKey | translate }}</span>
          </button>
        </div>
      </nav>

      <!-- Actions -->
      <div class="header-actions">
        <div class="lang-dropdown">
          <button
            type="button"
            class="lang-btn"
            (click)="toggleLangMenu()"
            [attr.aria-label]="'header.language' | translate"
            [attr.aria-expanded]="langOpen">
            <img
              class="flag"
              [src]="currentLangMeta.flagSrc"
              alt=""
              aria-hidden="true">
            <span class="lang-label">{{ currentLangMeta.label }}</span>
            <i class="material-icons caret" aria-hidden="true">expand_more</i>
          </button>

          <div class="lang-menu" *ngIf="langOpen" role="menu">
            <button
              *ngFor="let l of languages"
              type="button"
              class="lang-item"
              role="menuitemradio"
              [attr.aria-checked]="currentLang === l.code"
              (click)="setLanguage(l.code)">
              <img class="flag" [src]="l.flagSrc" alt="" aria-hidden="true">
              <span>{{ l.label }}</span>
              <i class="material-icons check" *ngIf="currentLang === l.code" aria-hidden="true">check</i>
            </button>
          </div>
        </div>

        <button
          class="icon-btn"
          type="button"
          [title]="'header.darkMode' | translate"
          (click)="toggleDarkMode()">
          <i class="material-icons">{{ isDarkMode ? 'light_mode' : 'dark_mode' }}</i>
        </button>

        <button
          class="btn-download-header"
          type="button"
          (click)="downloadPdf()">
          <i class="material-icons">download</i>
          <span>{{ 'preview.downloadPdf' | translate }}</span>
        </button>
      </div>
    </div>
  </div>
</header>

